!function(){"use strict";!function(){const t=new Image;t.src="./assets/fish-left.png";const s=new Image;s.src="./assets/fish-right.png";class i{constructor(t){let{x:s,y:i,dx:e,dy:h,size:a}=t;this.x=s,this.y=i,this.directionX=e,this.directionY=h,this.size=a}draw(i){const e=this.directionX<0?t:s;i.drawImage(e,this.x,this.y,2*this.size,this.size)}update(){this.x+=this.directionX,this.y+=this.directionY}}const e=new Image;e.src="./assets/fish-hook.png";class h{constructor(t,s,i,e,h,a){this.x=t,this.y=s,this.directionX=i,this.directionY=e,this.color=h,this.canvasHeight=a,this.radius=20}draw(t){t.beginPath(),t.strokeStyle=this.color,t.lineWidth=1,t.moveTo(this.x,0),t.lineTo(this.x,this.y),t.stroke(),t.drawImage(e,this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}update(){this.x+=this.directionX,this.y+=this.directionY,this.y>=this.canvasHeight-25?this.directionY=-this.directionY:0===this.y&&(this.directionY=0)}}const a=new Image;a.src="./assets/happy_penguin.png";const o=new Image;o.src="./assets/sleepy_penguin.png";const n=new Image;n.src="./assets/gone_fishing_penguin.png";class r{constructor(t,s,i){this.x=t,this.y=s,this.size=i}draw(t){t.beginPath(),t.fillStyle="black",t.font="25px Comic Sans MS",t.stroke(),t.fillText("Press ENTER to START GAME",325,225),t.font="20px Comic Sans MS",t.fillText("INSTRUCTIONS: Use the SPACEBAR to lower the hook and catch the fish",150,270),t.fillStyle="black",t.font="15px Comic Sans MS",t.fillText("Created by: Janny Zhao",410,550),t.closePath(),o.onload=()=>{t.drawImage(o,0,300,250,250)},n.onload=()=>{t.drawImage(n,375,300,250,250)},a.onload=()=>{t.drawImage(a,750,300,250,250)}}}const c=new Image;c.src="./assets/full_penguin.png";class d{constructor(t){this.score=t}draw(t){t.beginPath(),t.fillStyle="black",t.font="20px Comic Sans MS",t.stroke(),t.fillText(`You scored ${this.score} points! Press ENTER to PLAY AGAIN`,250,250),t.closePath(),c.onload=()=>{t.drawImage(c,375,275,250,250)}}}class l{constructor(t){let{x:s,y:i,dx:e,dy:h,radius:a}=t;this.x=s,this.y=i,this.dx=e,this.dy=h,this.radius=a}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI,!0),t.fillStyle="white",t.fill(),t.stroke(),t.closePath()}update(){this.x+=this.dx,this.y+=this.dy}}class m{constructor(t){this.ctx=t.getContext("2d"),this.dimensions={width:t.width,height:t.height},this.canvas=t,this.hook=new h(t.width/3,0,0,0,"black",t.height),this.fishes=[],this.score=0,this.startgame=new r(20,20,250),this.startTimer=20,this.bubbles=new l(t.width/3,t.height/3,0,0,50)}drawBubbles(){this.bubbles.draw(this.ctx)}drawFishes(){this.fishes.forEach((t=>t.draw(this.ctx)))}drawHook(){this.hook.draw(this.ctx)}drawStartGame(){this.startgame.draw(this.ctx)}drawEndGame(){this.endgame.draw(this.ctx)}timerDisplay(){this.ctx.beginPath(),this.ctx.fillStyle="black",this.ctx.font="25px Comic Sans MS",this.ctx.stroke(),this.ctx.fillText(`TIME LEFT: ${this.startTimer}`,this.canvas.width/30,this.canvas.height/8),this.ctx.closePath()}scoreDisplay(){this.ctx.beginPath(),this.ctx.fillStyle="black",this.ctx.font="25px Comic Sans MS",this.ctx.stroke(),this.ctx.fillText(`SCORE: ${this.score}`,this.canvas.width/30,this.canvas.height/15),this.ctx.closePath()}animate(){this.ctx.clearRect(0,0,this.dimensions.width,this.dimensions.height),this.scoreDisplay(),this.timerDisplay(),this.drawFishes(),this.bubbles.update(),this.drawBubbles(),this.fishes.forEach((t=>t.update())),this.drawHook(),this.hook.update(),this.fishHookCollide(),this.raf=requestAnimationFrame((()=>this.animate()))}fishHookCollide(){this.fishes.forEach((t=>{const s=this.hook.x-t.x,i=this.hook.y-t.y;Math.sqrt(s*s+i*i)<this.hook.radius+t.size&&(50===t.size?(this.score+=5,this.hook.directionY=-6):30===t.size&&(this.score+=10,this.hook.directionY=-6),this.fishes=this.fishes.filter((s=>s!==t)),this.scoreDisplay())}))}start(){const t=s=>{"Enter"===s.code&&(this.startGame(),document.removeEventListener("keydown",t))};this.drawStartGame(),document.addEventListener("keydown",t)}end(){this.endgame=new d(this.score),this.drawEndGame(),cancelAnimationFrame(this.raf),document.addEventListener("keydown",this.replayListener)}replayListener(t){"Enter"===t.code&&location.reload()}startGame(){document.addEventListener("keydown",(t=>{"Space"===t.code&&(this.hook.directionY=6)})),setInterval((()=>this.loadFish()),500),this.animate();let t=setInterval((()=>{this.startTimer--,-1===this.startTimer&&(this.end(),clearInterval(t))}),1e3)}loadFish(){const t=[50,30],s=t[Math.floor(Math.random()*t.length)],e=[6,7],h=e[Math.floor(Math.random()*e.length)],a=[0,this.canvas.width],o=a[Math.floor(Math.random()*a.length)],n={x:o,y:Math.random()*this.canvas.height+75,dx:0,dy:0,size:s};50===s&&0===o?n.dx=3:50===s&&o===this.canvas.width?n.dx=-3:n.dx=0===o?h:-h,this.fishes.push(new i(n))}}document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("gameBox");t.getContext("2d"),t.width=1e3,t.height=600,new m(t).start()}))}()}();
//# sourceMappingURL=main.js.map